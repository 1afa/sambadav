diff -ruN ../sabre-dav-1.8.6-orig/lib/Sabre/DAV/Browser/Plugin.php ./lib/Sabre/DAV/Browser/Plugin.php
--- ../sabre-dav-1.8.6-orig/lib/Sabre/DAV/Browser/Plugin.php	2013-06-18 01:12:05.000000000 +0200
+++ ./lib/Sabre/DAV/Browser/Plugin.php	2013-07-15 14:34:22.000000000 +0200
@@ -223,25 +223,32 @@
             $version = DAV\Version::VERSION ."-". DAV\Version::STABILITY;
         }
 
-        $html = "<html>
-<head>
-  <title>Index for " . $this->escapeHTML($path) . "/ - SabreDAV " . $version . "</title>
-  <style type=\"text/css\">
-  body { Font-family: arial}
-  h1 { font-size: 150% }
-  </style>
-        ";
+        $html = "<!DOCTYPE html>
+<html>
+  <head>
+    <title>Index for " . $this->escapeHTML($path) . "/ - SabreDAV " . $version . "</title>
+    <link rel=\"stylesheet\" href=\"/webfolders/style.css\"/>";
 
         if ($this->enableAssets) {
             $html.='<link rel="shortcut icon" href="'.$this->getAssetUrl('favicon.ico').'" type="image/vnd.microsoft.icon" />';
         }
 
-        $html .= "</head>
-<body>
-  <h1>Index for " . $this->escapeHTML($path) . "/</h1>
-  <table>
-    <tr><th width=\"24\"></th><th>Name</th><th>Type</th><th>Size</th><th>Last modified</th></tr>
-    <tr><td colspan=\"5\"><hr /></td></tr>";
+        $html .= "  </head>
+  <body>
+    <p id=\"logout\"><a href=\"?logout\">switch user (logout)</a></p>
+    <h1>Index for " . $this->escapeHTML($path) . "/</h1>
+    <table>
+      <colgroup>
+        <col style=\"width:15px\"/>
+        <col/>
+        <col/>
+        <col/>
+        <col/>
+      </colgroup>
+      <thead>
+        <tr><th></th><th>Name</th><th>Type</th><th>Size</th><th>Last modified</th></tr>
+      </thead>
+      <tbody>";
 
         $files = $this->server->getPropertiesForPath($path,array(
             '{DAV:}displayname',
@@ -259,8 +266,8 @@
             list($parentUri) = DAV\URLUtil::splitPath($path);
             $fullPath = DAV\URLUtil::encodePath($this->server->getBaseUri() . $parentUri);
 
-            $icon = $this->enableAssets?'<a href="' . $fullPath . '"><img src="' . $this->getAssetUrl('icons/parent' . $this->iconExtension) . '" width="24" alt="Parent" /></a>':'';
-            $html.= "<tr>
+            $icon = $this->enableAssets?'<a href="' . $fullPath . '"><img src="/webfolders/dir.png" alt="Parent" /></a>':'';
+            $html.= "<tr class=\"dir\">
     <td>$icon</td>
     <td><a href=\"{$fullPath}\">..</a></td>
     <td>[parent]</td>
@@ -291,7 +298,7 @@
                     // Some name mapping is preferred
                     switch($v) {
                         case '{DAV:}collection' :
-                            $type[$k] = 'Collection';
+                            $type[$k] = 'Directory';
                             break;
                         case '{DAV:}principal' :
                             $type[$k] = 'Principal';
@@ -328,7 +335,7 @@
             if (!$type) $type = 'Unknown';
 
             $size = isset($file[200]['{DAV:}getcontentlength'])?(int)$file[200]['{DAV:}getcontentlength']:'';
-            $lastmodified = isset($file[200]['{DAV:}getlastmodified'])?$file[200]['{DAV:}getlastmodified']->getTime()->format(\DateTime::ATOM):'';
+            $lastmodified = isset($file[200]['{DAV:}getlastmodified'])?$file[200]['{DAV:}getlastmodified']->getTime()->format(\DateTime::RFC2822):'';
 
             $fullPath = DAV\URLUtil::encodePath('/' . trim($this->server->getBaseUri() . ($path?$path . '/':'') . $name,'/'));
 
@@ -344,7 +351,7 @@
                 foreach(array_reverse($this->iconMap) as $class=>$iconName) {
 
                     if ($node instanceof $class) {
-                        $icon = '<a href="' . $fullPath . '"><img src="' . $this->getAssetUrl($iconName . $this->iconExtension) . '" alt="" width="24" /></a>';
+                        $icon = '<a href="' . $fullPath . '"><img src="/webfolders/' . (($iconName == 'icons/collection') ? 'dir.png' : 'file.png') . '" alt="" /></a>';
                         break;
                     }
 
@@ -353,7 +360,9 @@
 
             }
 
-            $html.= "<tr>
+            $trclass = ($type == 'Directory') ? 'class="dir"' : 'class="file"';
+
+            $html.= "<tr $trclass>
     <td>$icon</td>
     <td><a href=\"{$fullPath}\">{$displayName}</a></td>
     <td>{$type}</td>
@@ -362,8 +371,11 @@
     </tr>";
 
         }
-
-        $html.= "<tr><td colspan=\"5\"><hr /></td></tr>";
+	$html .= "
+      </tbody>
+    </table>
+    <table id=\"actions\">
+      <tbody>";
 
         $output = '';
 
@@ -373,10 +385,12 @@
 
         $html.=$output;
 
-        $html.= "</table>
-        <address>Generated by SabreDAV " . $version . " (c)2007-2013 <a href=\"http://code.google.com/p/sabredav/\">http://code.google.com/p/sabredav/</a></address>
-        </body>
-        </html>";
+        $html.= "
+      </tbody>
+    </table>
+    <address>Generated by SabreDAV " . $version . " (c)2007-2013 <a href=\"http://code.google.com/p/sabredav/\">http://code.google.com/p/sabredav/</a></address>
+  </body>
+</html>";
 
         return $html;
 
@@ -403,13 +417,13 @@
         if (get_class($node)==='Sabre\\DAV\\SimpleCollection')
             return;
 
-        $output.= '<tr><td colspan="2"><form method="post" action="">
+        $output.= '<tr><td><form method="post">
             <h3>Create new folder</h3>
             <input type="hidden" name="sabreAction" value="mkcol" />
             Name: <input type="text" name="name" /><br />
             <input type="submit" value="create" />
             </form>
-            <form method="post" action="" enctype="multipart/form-data">
+            <form method="post" enctype="multipart/form-data">
             <h3>Upload file</h3>
             <input type="hidden" name="sabreAction" value="put" />
             Name (optional): <input type="text" name="name" /><br />
@@ -429,7 +443,7 @@
      */
     protected function getAssetUrl($assetName) {
 
-        return $this->server->getBaseUri() . '?sabreAction=asset&assetName=' . urlencode($assetName);
+        return $this->server->getBaseUri() . '?sabreAction=asset&amp;assetName=' . urlencode($assetName);
 
     }
 
